abinfo "Building qcoro_qt5 ..."
CMAKE_AFTER=(
    -DQCORO_BUILD_EXAMPLES=ON
    -DQCORO_ENABLE_ASAN=OFF
    -DQCORO_DISABLE_DEPRECATED_TASK_H=OFF
    -DQCORO_WITH_QTDBUS=ON
    -DQCORO_WITH_QTNETWORK=ON
    -DQCORO_WITH_QTWEBSOCKETS=ON
    -DQCORO_WITH_QTQUICK=ON
    -DQCORO_WITH_QML=ON
    -DQCORO_WITH_QTTEST=ON
    -DUSE_QT_VERSION=5
    -DBUILD_SHARED_LIBS=ON
)
build_cmakeninja_configure
build_cmakeninja_build
build_cmakeninja_install

abinfo "Cleaning up ..."
rm -rv "$BLDDIR"

abinfo "Building qcoro_qt6 ..."
CMAKE_AFTER=(
    -DQCORO_BUILD_EXAMPLES=ON
    -DQCORO_ENABLE_ASAN=OFF
    -DQCORO_DISABLE_DEPRECATED_TASK_H=OFF
    -DQCORO_WITH_QTDBUS=ON
    -DQCORO_WITH_QTNETWORK=ON
    -DQCORO_WITH_QTWEBSOCKETS=ON
    -DQCORO_WITH_QTQUICK=ON
    -DQCORO_WITH_QML=ON
    -DQCORO_WITH_QTTEST=ON
    -DUSE_QT_VERSION=6
    -DBUILD_SHARED_LIBS=ON
)
build_cmakeninja_configure
build_cmakeninja_build
build_cmakeninja_install
